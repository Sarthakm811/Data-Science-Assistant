{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "MCP Tool Manifest",
    "description": "Schema for tool manifests in the MCP-style tool registry",
    "type": "object",
    "required": [
        "tool_id",
        "name",
        "version",
        "description",
        "inputs",
        "outputs"
    ],
    "properties": {
        "tool_id": {
            "type": "string",
            "pattern": "^[a-z0-9._-]+$",
            "description": "Unique identifier for the tool (e.g., kaggle.dataset.download)"
        },
        "name": {
            "type": "string",
            "description": "Human-readable name"
        },
        "version": {
            "type": "string",
            "pattern": "^\\d+\\.\\d+\\.\\d+$",
            "description": "Semantic version"
        },
        "description": {
            "type": "string",
            "description": "What the tool does"
        },
        "auth": {
            "type": "object",
            "properties": {
                "type": {
                    "type": "string",
                    "enum": [
                        "kaggle_token",
                        "agent_token",
                        "api_key",
                        "none"
                    ]
                },
                "scope": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            }
        },
        "inputs": {
            "type": "object",
            "description": "Input parameters schema",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "required": {
                        "type": "boolean"
                    },
                    "default": {},
                    "description": {
                        "type": "string"
                    }
                }
            }
        },
        "outputs": {
            "type": "object",
            "description": "Output schema",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "type": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    }
                }
            }
        },
        "constraints": {
            "type": "object",
            "description": "Resource and safety constraints"
        },
        "long_running": {
            "type": "boolean",
            "default": false,
            "description": "Whether this tool may take >5 seconds"
        },
        "approval_required": {
            "type": "boolean",
            "default": false,
            "description": "Whether human approval is needed before execution"
        }
    }
}